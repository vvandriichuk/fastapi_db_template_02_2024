version: '3'
services:
  fastapi-app:
    build: .
    ports:
      - "8002:8002"
    environment:
      - APP_ACCESS_KEY=${APP_ACCESS_KEY}
      - JWT_ALGORITHM=${JWT_ALGORITHM}
      - OTEL_EXPORTER_OTLP_ENDPOINT=${OTEL_EXPORTER_OTLP_ENDPOINT}
      - TRACE_ENABLED=${TRACE_ENABLED}
      - TRACE_INSECURE=${TRACE_INSECURE}
      - TRACE_USE_CREDENTIALS=${TRACE_USE_CREDENTIALS}
      - TRACE_TOKEN=${TRACE_TOKEN}
      - LOGGING_NAME=${LOGGING_NAME}
      - LOGGING_LEVEL=${LOGGING_LEVEL}
      - LOGGING_HTTP_CLIENT_ENABLE=${LOGGING_HTTP_CLIENT_ENABLE}
      - LOGGING_CONSOLE_ENABLE=${LOGGING_CONSOLE_ENABLE}
      - LOGGING_FORMATTER=${LOGGING_FORMATTER}
      - LOGGING_FILE_ENABLE=${LOGGING_FILE_ENABLE}
      - LOGGING_FILE_PATH=${LOGGING_FILE_PATH}
      - LOGGING_OTLP_ENABLE=${LOGGING_OTLP_ENABLE}
      - LOGGING_OTLP_ENDPOINT=${LOGGING_OTLP_ENDPOINT}
      - LOGGING_OTLP_INSECURE=${LOGGING_OTLP_INSECURE}
      - LOGGING_OTLP_USE_CREDENTIALS=${LOGGING_OTLP_USE_CREDENTIALS}
      - LOGGING_USE_SSL_CERTIFICATE=${LOGGING_USE_SSL_CERTIFICATE}
      - LOGGING_TOKEN=${LOGGING_TOKEN}
      - LOGGING_TYPE=${LOGGING_TYPE}
    volumes:
      - ./logs:/app/logs
    networks:
      - test-fastapi-sql-network

networks:
  test-fastapi-sql-network:
    external: true
